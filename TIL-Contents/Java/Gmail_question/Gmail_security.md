# 이메일 인증 구현

> 이메일 인증 번호를 받는데 블로그 글 을 찾아보면 다 하나같이 
내 구글 stmp 인증권한을 설정해놓고 개발을 시작하는데

-> 여기서 나는 어라 왜? 사용자가 사용자의 이메일 내로 인증번호를 받아서 인증절차를 
진행하는데 왜 내 정보를 기입해야하는걸까? 하는 의문이 듦


1. 이메일은 SMTP 서버를 통해 전송된다.
    - 앱이 사용자의 메일함으로 인증코드를 보내려면, 누군가가 `STMP 서버에 로그인해서 메일을 발송` 해야한다.
    - 여기서 쓰는 "구글 정보"는 `발신자 계정 자격증명`(누가보내는지)을 뜻한다.

2. SMTP 서버(Gmail, Naver, 회사 메일, Amazon SES 등)는 인증 없이 메일 발송을 허용하지 않는다.
    - 앱이 “발신자”로 로그인 → 사용자가 입력한 주소로 메일을 보낸다.

-> 어떤 정보를 넣나? 
> Gmail 예: spring.mail.host=smtp.gmail.com, username=your@gmail.com, password=<앱 비밀번호 또는 OAuth2 토큰>, port=587, STARTTLS
  “내 구글 정보” = 발신용 계정 자격증명입니다. 사용자의 구글 정보가 아닙니다

결론, 즉 SMTP 서버에 인증메일을 요청을 하면 각 메일서버의 인증 없이는 메일을 발송하지 않는데 
그 인증을 “서비스가 보유한 발신 전용 계정(서비스 메일 계정)으로 SMTP에 인증한다. 따라서 발신자가 개발자가 되어 발신자 로그인및인증을 한거고 거기에 요청이 오면 
메일을 발송하는 방식이다.

### 보안 포인트
> Gmail을 쓴다면 2단계 인증 + 앱 비밀번호(또는 Oauth2) 사용, 코드/레포에 직입력 금지, 환경변수/시크릿 매니저 사용

---

